<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<meta http-equiv="X-UA-Compatible" content="ie=edge">
    	<title>Página Decanato Cecyt 9</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

        <meta name="viewport" content="width=device-width, initial-scale=1">
    	<link href="https://fonts.googleapis.com/css?family=Noto+Serif:400,700,700i|Open+Sans:400,700&display=swap" rel="stylesheet">
    	<link rel="stylesheet" href="../css/estilo_fototeca.css">


    </head>
    <body>
        <nav class="navbar navbar-expand-xl navbar-dark menu">
            <div class="container-fluid">
                <a href="#" class="navbar-brand">
                    <img src="../img/icons/cecyt-9-icon.png" height="28" alt="CoolBrand"> Cecyt 9
                </a>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto">
                        <a href="index.html" class="nav-item nav-link">Antecedentes</a>
                        <a href="fototeca.html" class="nav-item nav-link active">Fototeca</a>
                        <a href="#" class="nav-item nav-link">Exposiciones</a>
                        <a href="#" class="nav-item nav-link">Competencias</a>
                        <a href="linea_del_tiempo.html" class="nav-item nav-link">Linea del tiempo</a>
                    </div>
                    <div class="navbar-nav ms-auto">
                        <a href="#" class="nav-item nav-link">
                            <img src="../img/icons/logo-poli-blanco.png" height="28" alt="CoolBrand"> IPN
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <div class="sos">

        </div>


        <!-- MAIN (Center website) -->
        <div class="main col-sm-12 col-md-11 col-lg-10 ">

            <h1>FOTOTECA</h1>
            <hr>
            <div class="container">
                <div class="input-group row">
                    <div class="col-sm-12 col-lg-2">
                        <select id="selectBox" class="form-select " aria-label="Default select example">
                            <option value="" selected>Año</option>
                            <option value="y2014">2014</option>
                            <option value="y2015">2015</option>
                            <option value="y2016">2016</option>
                        </select>
                    </div>
                    <input id="search-box" type="search" class="col-sm-12 col-lg-8 form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                    <button id="searchButton" type="button" class="col-sm-12 col-lg-2 btn btn-outline-danger">Buscar</button>
                </div>
            </div>

            <hr>
            <!-- <h2>PORTFOLIO</h2> -->

            <!-- <div id="myBtnContainer">
              <button class="toggle_btn btn active" onclick="filterSelection('all')"> Mostrar todos</button>
              <button class="toggle_btn btn" onclick="filterSelection('y2014')"> 2014</button>
              <button class="toggle_btn btn" onclick="filterSelection('y2015')"> 2015</button>
              <button class="toggle_btn btn" onclick="filterSelection('y2016')"> 2016</button>
            </div> -->


            <div class="accordion" id="accordionPanelsStayOpenExample">
              <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                  <button class="accordion-button uno" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                    #2014
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                  <div class="accordion-body ">

                      <div class="align-links row row-cols-auto">

                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom"  data-caption="This describes the image 2014 1">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom"  data-caption="This describes the image 2014 2">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="col fdata y2014 hover-zoom" data-caption="This describes the image 2014 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>

                      </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                  <button class="accordion-button collapsed dos" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                    #2015
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                  <div class="accordion-body">
                      <div class="align-links row row-cols-auto">

                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="fdata y2015 hover-zoom"  data-caption="This describes the image 2015 1">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="fdata y2015 hover-zoom"  data-caption="This describes the image 2015 2">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>
                            <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="fdata y2015 hover-zoom" data-caption="This describes the image 2015 3">
                                <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                            </a>

                      </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                  <button class="accordion-button collapsed tres" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                    #2016
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
                  <div class="accordion-body">
                      <div class="row">
                          <div class="align-links row row-cols-auto">

                                <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="fdata y2016 hover-zoom"  data-caption="This describes the image 2016 1">
                                    <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                                </a>
                                <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="fdata y2016 hover-zoom"  data-caption="This describes the image 2016 2">
                                    <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                                </a>
                                <a href="../img/juan-de-dios-batiz/batiz2.jpg" data-toggle="lightbox" data-gallery="example-gallery" class="fdata y2016 hover-zoom" data-caption="This describes the image 2016 3">
                                    <img src="../img/juan-de-dios-batiz/batiz2.jpg" class="img-fluid">
                                </a>

                          </div>
                      </div>
                  </div>
                </div>
              </div>
            </div>
        </div>

        <script>

            let searchBox = document.querySelector('#search-box');
            let images = document.querySelectorAll('.fdata');

            let selectBox = document.querySelector('#selectBox');
            let searchButton = document.querySelector('#searchButton');

            searchBox.oninput = () =>{
                updateSearch();
            };

            searchButton.onclick = () =>{
                updateSearch();
            };

            selectBox.onchange = () =>{
                updateSearch();
            };


            function updateSearch(){
                let accordionsButton = document.querySelectorAll('.accordion-button');
                // accordionsButton.forEach(accordion => {
                //     if(accordion.className.indexOf("collapsed") == -1)
                //         accordion.click();
                // });
                images.forEach(hide => hide.style.display = 'none');
                let value = searchBox.value;
                let selectedValue = selectBox.value;

                let accordionItems = document.querySelectorAll('.accordion-item');


                images.forEach(image =>{
                   let title = image.getAttribute('data-caption');
                   if(title.includes(value) && image.className.indexOf(selectedValue) > -1){
                      image.style.display = 'block';
                   }
                   if(searchBox.value == '' && selectedValue== ''){
                      image.style.display = 'block';
                   }
                });

                accordionItems.forEach(item => {
                    let imagesDisp = item.querySelectorAll('.fdata');
                    let addButton = false;
                    imagesDisp.forEach( image => {
                        if(getComputedStyle(image).display == 'block'){
                            addButton = true;
                        }
                    });
                    let accordion = item.querySelector('.accordion-button');
                    if(addButton){
                        if(accordion.classList.contains("collapsed"))
                            accordion.click();
                    }else{
                        if(!accordion.classList.contains("collapsed"))
                            accordion.click();
                    }

                });
            }

        </script>
        <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.0/dist/index.bundle.min.js"></script>
    </body>
</html>
